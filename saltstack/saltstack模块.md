# Saltstack常用模块

首先我们先看一下salt的命令规范

![](https://img2018.cnblogs.com/blog/1210730/201905/1210730-20190516000732348-865479011.png)

需要注意的，目标主机和额外参数都需要用引号引起来，如```salt '*' test.ping```，测试所有的从机连通性。

下面介绍一下几个常用模块的功能和使用方法。

## test模块

该模块常用于测试主机，其常用方法为ping。


| 方法   | 功能          |
|------|-------------|
| ping | 测试主机和从机的连通性 |

## user模块

这是用户模块。

| 方法  | 功能   |
|-----|------|
| add | 添加用户 |
|chfullname|添加用户全名|
| chgid | 改变默认用户组 |
|chgroups|修改用户的用户组|

## cmd模块

命令模块，该模块只有run一个方法，需要在额外参数中写要远程执行的命令。

## pkg模块

功能包管理模块，远程进行功能包安装，卸载，等操作。

| 方法   | 功能          |
|------|-------------|
| install | 安装功能 |
|remove|卸载功能|
| latest_version | 安装最新版本 |
| up_grade | 更新软件包 |

## file模块

文件操作模块，常用于从机文件管理。

| 方法   | 功能          |
|------|-------------|
| getsum | 校验加密 |
| chown | 修改文件所有者 |
| stats | 查看stats信息 |
| get_mode | 修改文件权限信息 |
| mkdir | 创建目录 |
| touch | 创建文件 |
| append | 末行追加 |
| remove | 删除文件 |

## service模块

在Ubuntu系统中有service命令，用于服务管理。这个模块可以进行服务管理。

| 方法   | 功能          |
|------|-------------|
|enable|开机启动|
|disable|关闭开机启动|
|start|启动服务|
|stop|停止服务|
|status|查看服务状态|
|reload|重新加载服务|
|restart|重启服务|






